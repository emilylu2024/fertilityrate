[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Fertility Rate Analyzation",
    "section": "",
    "text": "1 Introduction\nIn recent years, the decline in fertility rates has become a pronounced pattern observed globally, and experts from various domains, from sociology to economics, are trying to discover the reason behind this phenomenon. This project aims to explore potential factors influencing this trend, including marriage rates, divorce rates, educational attainment, and economical factors like GDP (gross domestic product). Since the trend is observed globally, the scope of our project also includes multiple countries, like the United States, United Kingdom, China, South Korea, to gain a more comprehensive understanding of the decline. By investigating these factors, we hope to uncover meaningful insights into the relationship between the societal structure and individual choices.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "2.1 Description",
    "text": "2.1 Description\nThe data sources we have are pulled from multiple sources, including Organization for Economic Cooperation and Development (OECD), United Nations (UN), Statistical Office of the European Union (Eurostat), and World Bank Group. For OECD, UN, and Eurostat, they are responsible for the data collection and the data is collected from administrative data sources, such as civil registration and population and housing censuses. For the World Bank Group, they collect data by compiling from officially-recognized international sources. All of the data are either csv files or excel files. Data from OECD, UN, and Eurostat is updated annually, while the data from the World Bank group is updated quarterly. The dimensions for data collected from Eurostat, UN, OECD, and the World Bank group are 52 rows and 13 columns, 322 rows and 22 columns, 55 rows and 64 columns, and 68 columns and 397,936 rows, respectively. The main issue we have for the data is about organization. Since the data we have collected are pulled from multiple sources, it is rather hard to integrate these data into one file since each data has a different format and contains diverse information. Thus, organizing the data into suitable format for processing is a challenge for us. Lastly, our plan on importing the data is to download the files from the official website first, then transform them into the same format using Excel, and import the transformed files in R for further processing and analysis at last.\nLinks to our data sources:\nhttps://unstats.un.org/unsd/demographic-social/products/dyb/#statistics\nhttps://www.oecd.org/en/data/datasets/oecd-family-database.html\nhttps://ec.europa.eu/eurostat/web/population-demography/demography-population-stock-balance/database\nhttps://datacatalog.worldbank.org/search/dataset/0037712/World-Development-Indicators"
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\nlibrary(tidyr)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(ggplot2)\nlibrary(naniar)\nlibrary(reshape2)\n\n\n\nAttaching package: 'reshape2'\n\n\nThe following object is masked from 'package:tidyr':\n\n    smiths\n\n\n\n\nCode\nmarriage_data &lt;- read.csv(\"marriage-rate-per-1000-inhabitants.csv\")\ndivorce_data &lt;- read.csv(\"divorces-per-1000-people.csv\")\neducation_data &lt;- read.csv(\"education_long.csv\")\nfertility_data &lt;- read.csv(\"fertility_long.csv\")\ngdp_data &lt;- read.csv(\"gdp_long.csv\")\nlife_data &lt;- read.csv(\"life_long.csv\")\n\n\n\n\nCode\nmarriage_divorce &lt;- marriage_data |&gt; \n  left_join(divorce_data, by = c(\"Entity\", \"Code\", \"Year\")) \nnames(marriage_divorce)[1] &lt;- \"Country\"\nnames(marriage_divorce)[4] &lt;- \"MarriageRate\"\nnames(marriage_divorce)[5] &lt;- \"DivorceRate\"\n\nfiltered_education &lt;- education_data |&gt; \n  filter(Country %in% marriage_divorce$Country & Year %in% marriage_divorce$Year)\n\nfiltered_fertility &lt;- fertility_data |&gt; \n  filter(Country %in% marriage_divorce$Country & Year %in% marriage_divorce$Year)\n\nfiltered_gdp &lt;- gdp_data |&gt; \n  filter(Country %in% marriage_divorce$Country & Year %in% marriage_divorce$Year)\n\nfiltered_life &lt;- life_data |&gt; \n  filter(Country %in% marriage_divorce$Country & Year %in% marriage_divorce$Year)\n\nfinal_data &lt;- marriage_divorce |&gt;\n  left_join(filtered_education, by = c(\"Country\", \"Code\", \"Year\")) |&gt;\n  left_join(filtered_fertility, by = c(\"Country\", \"Code\", \"Year\")) |&gt;\n  left_join(filtered_gdp, by = c(\"Country\", \"Code\", \"Year\")) |&gt;\n  left_join(filtered_life, by = c(\"Country\", \"Code\", \"Year\"))\n\ncolSums(is.na(final_data))\n\n\n               Country                   Code                   Year \n                     0                      0                      0 \n          MarriageRate            DivorceRate        education_level \n                     0                    476                    877 \neducational_attainment         fertility_rate             gdp_growth \n                  1633                     67                     82 \n                Gender        life_expectancy \n                    67                     67 \n\n\nThe above result shows how many missing value are there in each feature. After knowing the exact value, we can then doing visualization for better analyzing missing patterns.\n\n\nCode\nmissing_values &lt;- colSums(is.na(final_data))\n\nmissing_data_df &lt;- data.frame(\n  Column = names(missing_values),\n  MissingCount = missing_values\n)\n\nmissing_proportion &lt;- missing_values / nrow(final_data)\nmissing_data_df$Proportion &lt;- missing_proportion\n\nggplot(missing_data_df, aes(x = reorder(Column, -Proportion), y = Proportion)) +\n  geom_bar(stat = \"identity\", fill = \"steelblue\") +\n  labs(title = \"Proportion of Missing Values per Column\",\n       x = \"Columns\",\n       y = \"Proportion of Missing Values\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\nWe merged all relevant features with fertility rate into our final data set and first doing a bar plot visualizing porprotion of missing value in each column. Educational_attainment have the highest proportion of missing values, exceeding 50%. Columns like DivorceRate have a moderate proportion of missing values (around 20–40%). Columns such as gdp_growth, fertility_rate, Gender, life_expectancy, Code, Country, MarriageRate, and Year appear to have minimal or no missing values, making them more reliable for immediate use.\n\n\nCode\ntime_missing &lt;- final_data %&gt;%\n  group_by(Year) %&gt;%\n  summarise(MissingCount = sum(is.na(.))) \n\nggplot(time_missing, aes(x = Year, y = MissingCount)) +\n  geom_line(color = \"red\") +\n  geom_point() +\n  labs(title = \"Missing Values Over Time\", x = \"Year\", y = \"Count of Missing Values\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nWe also see if the number of missing value changes with time. From the plot above, the count of missing values appears nearly constant across all years in the data set. There are no visible spikes or drops in missing values over time.This consistency suggests that missingness is not influenced by temporal factors. The uniformity could indicate systematic missingness, where data is consistently missing for specific features, countries, or regions across all years.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nThe data sources we have are pulled from multiple sources, including Organization for Economic Cooperation and Development (OECD), United Nations (UN), Statistical Office of the European Union (Eurostat), and World Bank Group. For OECD, UN, and Eurostat, they are responsible for the data collection and the data is collected from administrative data sources, such as civil registration and population and housing censuses. For the World Bank Group, they collect data by compiling from officially-recognized international sources. All of the data are either csv files or excel files. Data from OECD, UN, and Eurostat is updated annually, while the data from the World Bank group is updated quarterly. The dimensions for data collected from Eurostat, UN, OECD, and the World Bank group are 52 rows and 13 columns, 322 rows and 22 columns, 55 rows and 64 columns, and 68 columns and 397,936 rows, respectively. The main issue we have for the data is about organization. Since the data we have collected are pulled from multiple sources, it is rather hard to integrate these data into one file since each data has a different format and contains diverse information. Thus, organizing the data into suitable format for processing is a challenge for us. Lastly, our plan on importing the data is to download the files from the official website first, then transform them into the same format using Excel, and import the transformed files in R for further processing and analysis at last.\nLinks to our data sources:\nhttps://unstats.un.org/unsd/demographic-social/products/dyb/#statistics\nhttps://www.oecd.org/en/data/datasets/oecd-family-database.html\nhttps://ec.europa.eu/eurostat/web/population-demography/demography-population-stock-balance/database\nhttps://datacatalog.worldbank.org/search/dataset/0037712/World-Development-Indicators",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 Marriage Rate vs Divorce Rate\nCode\nggplot(final_data, aes(x = MarriageRate, y = DivorceRate)) +\n  geom_point(alpha = 0.7, color = \"blue\") +\n  geom_smooth(method = \"lm\", color = \"red\", se = TRUE) +  # Add a trend line\n  labs(\n    title = \"Marriage Rate vs. Divorce Rate\",\n    x = \"Marriage Rate\",\n    y = \"Divorce Rate\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  )\n\n\n`geom_smooth()` using formula = 'y ~ x'\nThis scatterplot shows the relationship between marriage rates (x-axis) and divorce rates (y-axis) with each blue dot representing a data point. There’s a positive correlation between marriage and divorce rates, as shown by the red trend line with its gray confidence interval band. Marriage rates range from about 2 to 10, while divorce rates range from 0 to about 5. The data points show considerable spread around the trend line, suggesting that while there is a correlation, it’s not a perfect relationship. There appears to be more variability in divorce rates when marriage rates are between 4-6, creating a wider “band” of points in this region. At higher marriage rates (8-10), the data points seem to follow the trend line more closely, though there are some notable outliers, particularly at the highest marriage rates where some points show significantly lower divorce rates than the trend would predict.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#marriage-rate-and-fertility-rate",
    "href": "results.html#marriage-rate-and-fertility-rate",
    "title": "3  Results",
    "section": "3.2 Marriage Rate and Fertility Rate",
    "text": "3.2 Marriage Rate and Fertility Rate\n\n\nCode\nfiltered_data &lt;- final_data %&gt;%\n  filter(!is.na(MarriageRate) & !is.na(fertility_rate))\n\n# Line plot\nggplot(filtered_data, aes(x = Year)) +\n  geom_line(aes(y = MarriageRate, color = \"Marriage Rate\"), size = 1) +\n  geom_line(aes(y = fertility_rate, color = \"Fertility Rate\"), size = 1, linetype = \"dashed\") +\n  facet_wrap(~ Country, scales = \"free_y\") +\n  labs(\n    title = \"Marriage Rate and Fertility Rate Trends by Country\",\n    x = \"Year\",\n    y = \"Rate\",\n    color = \"Variable\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    strip.text = element_text(size = 10, face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\nArgentina, Australia, Bolivia, Mexico, Peru, Singapore and Chile have experienced gradual declines in marriage rates. In other countries, such as Ireland and the United Kingdom, marriage rates fluctuated before declining. Countries such as Mexico and Peru started with high fertility rates but then experienced sharp declines. Countries such as Norway and Singapore experienced relatively small declines in fertility and nuptiality. Marriage rates have remained relatively stable compared with fertility in many countries. Countries such as Singapore and the United States show clear trends, with marriage rates stabilizing at lower levels. Taken together, both the marriage rate and the fertility rate show a downward trend in different countries, and in some countries (Ireland, United Kingdom), the marriage rate and the fertility rate seem to be correlated because the trends and shapes of the two lines are similar.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#fertility-rate-density-plot-by-high-vs-low-gdp-countries",
    "href": "results.html#fertility-rate-density-plot-by-high-vs-low-gdp-countries",
    "title": "3  Results",
    "section": "3.3 Fertility Rate Density Plot by High vs Low GDP Countries",
    "text": "3.3 Fertility Rate Density Plot by High vs Low GDP Countries\n\n\nCode\nfinal_data &lt;- final_data |&gt; \n  filter(!is.na(gdp_growth) & !is.na(fertility_rate)) |&gt; \n  mutate(\n    GDP_Group = ifelse(gdp_growth &gt;= median(gdp_growth, na.rm = TRUE), \"High GDP\", \"Low GDP\")\n  )\n\nggplot(final_data, aes(x = fertility_rate, fill = GDP_Group)) +\n  geom_density(alpha = 0.6) +  # Semi-transparent fill for overlapping areas\n  labs(\n    title = \"Fertility Rate Distribution: High vs. Low GDP Countries\",\n    x = \"Fertility Rate\",\n    y = \"Density\",\n    fill = \"GDP Group\"\n  ) +\n  scale_fill_manual(values = c(\"High GDP\" = \"blue\", \"Low GDP\" = \"red\")) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    axis.text = element_text(size = 10)\n  )\n\n\n\n\n\n\n\n\n\nThe above plot is a density plot comparing the distribution of fertility rates for countries grouped by GDP level (High GDP vs. Low GDP) where we calculated by comparing each GDP growth with median value. Both groups have peak around 1.5-2.5, though the low GDP countries show a slightly higher density at this point, meaning that there is a substantial number of countries, regardless of GDP level, within this fertility rate range. Low GDP countries show a notable secondary peak around a fertility rate of 1.2-1.3, which isn’t present in high GDP countries. High GDP countries have more spread in the 2.5-3.5 fertility rate range. Both distributions have long “tails” extending toward higher fertility rates though these become quite sparse. Overall, the distributions suggest that while there is significant overlap between high and low GDP countries, there are some distinct patterns in fertility rates associated with economic development.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#gdp-marriage-rate-and-divorce-rate",
    "href": "results.html#gdp-marriage-rate-and-divorce-rate",
    "title": "3  Results",
    "section": "3.4 GDP, Marriage Rate and Divorce Rate",
    "text": "3.4 GDP, Marriage Rate and Divorce Rate\n\n\nCode\nplot_data &lt;- final_data %&gt;%\n  group_by(Year) %&gt;%\n  summarize(\n    Avg_MarriageRate = mean(MarriageRate, na.rm = TRUE),\n    Avg_DivorceRate = mean(DivorceRate, na.rm = TRUE),\n    Avg_GDP = mean(gdp_growth, na.rm = TRUE)\n  ) %&gt;%\n  ungroup()\n\nlibrary(ggplot2)\n\nggplot(plot_data) +\n  geom_bar(aes(x = Year, y = Avg_GDP, fill = \"GDP\"), stat = \"identity\", alpha = 0.6) +\n  geom_line(aes(x = Year, y = Avg_MarriageRate, color = \"Average Marriage Rate\"), size = 1) +\n  geom_line(aes(x = Year, y = Avg_DivorceRate, color = \"Average Divorce Rate\"), size = 1, linetype = \"dashed\") +\n  labs(\n    title = \"GDP, Average Marriage Rate, and Average Divorce Rate Over Time\",\n    x = \"Year\",\n    y = \"Values\",\n    fill = \"Variable\",\n    color = \"Rate Type\"\n  ) +\n  theme_minimal() +\n  theme(\n    plot.title = element_text(hjust = 0.5, face = \"bold\"),\n    axis.text.x = element_text(angle = 45, hjust = 1)\n  ) +\n  scale_fill_manual(values = c(\"GDP\" = \"blue\")) +\n  scale_color_manual(values = c(\n    \"Average Marriage Rate\" = \"green\",\n    \"Average Divorce Rate\" = \"red\"\n  ))\n\n\n\n\n\n\n\n\n\nThis graph illustrates the relationship between GDP, marriage rates, and divorce rates from 1960 to 2020. The marriage rate (green line) shows a clear downward trend over the 60-year period, declining from around 7 to 5, though it spikes sharply upward near 2020. The divorce rate (red dashed line) remains relatively stable between 2-3 throughout the period, showing only minor fluctuations. GDP (blue bars) demonstrates considerable volatility, fluctuating mostly between 0 and 6, with a dramatic drop to negative values around 2015 before recovering. Notably, despite these significant changes in marriage rates and GDP, the divorce rate maintains remarkable stability over the entire period.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#correlation-matrix",
    "href": "results.html#correlation-matrix",
    "title": "3  Results",
    "section": "3.5 Correlation Matrix",
    "text": "3.5 Correlation Matrix\n\n\nCode\nnumeric_data &lt;- final_data |&gt; \n  select_if(is.numeric) |&gt; \n  scale()\n\ncor_matrix &lt;- cor(numeric_data, use = \"complete.obs\") \ncor_long &lt;- melt(cor_matrix)\n\ncolnames(cor_long) &lt;- c(\"Variable1\", \"Variable2\", \"Correlation\")\n\nggplot(cor_long, aes(x = Variable1, y = Variable2, fill = Correlation)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient2(\n    low = \"blue\", mid = \"white\", high = \"red\", midpoint = 0,\n    name = \"Correlation\"\n  ) +\n  labs(\n    title = \"Correlation Matrix Heatmap\",\n    x = \"\",\n    y = \"\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1), \n    plot.title = element_text(hjust = 0.5, face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\nThe above correlation matrix heatmap help visualize the pairwise correlations between different numeric variables. Marriage Rate and Divorce Rate are highly positively correlated, indicating that higher marriage rates are associated with higher divorce rates. Marriage Rate and fertility rate also has high correlation. Fertility rate is negatively correlated with Year, which aligns with global trends where fertility rates decrease with higher education and over time. It is surprising that the fertility rate is negatively correlated with life expectancy. GDP growth has weaker correlations with most variables, suggesting it does not strongly align with the other variables in this data set. This heatmap provides a useful overview for identifying patterns and relationships within the data.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  }
]